(function(a){function e(){this._settings=[];this._extensions=[];this.regional=[];this.regional[""]={errorLoadingText:"Error loading",notSupportedText:"This browser does not support SVG"};this.local=this.regional[""];this._uuid=+new Date;this._renesis=h("RenesisX.RenesisCtrl")}function h(a){try{return!!(window.ActiveXObject&&new ActiveXObject(a))}catch(b){return false}}var d="svgwrapper";a.extend(e.prototype,{markerClassName:"hasSVG",svgNS:"http://www.w3.org/2000/svg",xlinkNS:"http://www.w3.org/1999/xlink",_wrapperClass:f,_attrNames:{class_:"class",in_:"in",alignmentBaseline:"alignment-baseline",baselineShift:"baseline-shift",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorRendering:"color-rendering",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",underlinePosition:"underline-position",underlineThickness:"underline-thickness",vertAdvY:"vert-adv-y",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode"},_attachSVG:function(b,d){var c=b.namespaceURI==this.svgNS?b:null,b=c?null:b;if(a(b||c).hasClass(this.markerClassName))return;if(typeof d=="string")d={loadURL:d};else if(typeof d=="function")d={onLoad:d};a(b||c).addClass(this.markerClassName);try{if(!c){c=document.createElementNS(this.svgNS,"svg");c.setAttribute("version","1.1");c.setAttribute("width",b.clientWidth);c.setAttribute("height",b.clientHeight);b.appendChild(c)}this._afterLoad(b,c,d||{})}catch(e){if(a.browser.msie){if(!b.id)b.id="svg"+this._uuid++;this._settings[b.id]=d;b.innerHTML='<embed type="image/svg+xml" width="100%" height="100%" src="'+(d.initPath||"")+'blank.svg"/>'}else b.innerHTML='<p class="svg_error">'+this.local.notSupportedText+"</p>"}},_registerSVG:function(){for(var c=0;c<document.embeds.length;c++){var e=document.embeds[c].parentNode;if(!a(e).hasClass(a.svg.markerClassName)||a.data(e,d))continue;var b=null;try{b=document.embeds[c].getSVGDocument()}catch(f){setTimeout(a.svg._registerSVG,250);return}b=b?b.documentElement:null;b&&a.svg._afterLoad(e,b)}},_afterLoad:function(c,f,b){var b=b||this._settings[c.id];this._settings[c?c.id:""]=null;var e=new this._wrapperClass(f,c);a.data(c||f,d,e);try{b.loadURL&&e.load(b.loadURL,b);b.settings&&e.configure(b.settings);b.onLoad&&!b.loadURL&&b.onLoad.apply(c||f,[e])}catch(g){alert(g)}},_getSVG:function(b){b=typeof b=="string"?a(b)[0]:b.jquery?b[0]:b;return a.data(b,d)},_destroySVG:function(c){var b=a(c);if(!b.hasClass(this.markerClassName))return;b.removeClass(this.markerClassName);c.namespaceURI!=this.svgNS&&b.empty();a.removeData(c,d)},addExtension:function(b,a){this._extensions.push([b,a])}});function f(e,d){this._svg=e;this._container=d;for(var b=0;b<a.svg._extensions.length;b++){var c=a.svg._extensions[b];this[c[0]]=new c[1](this)}}a.extend(f.prototype,{_width:function(){return this._container?this._container.clientWidth:this._svg.width},_height:function(){return this._container?this._container.clientHeight:this._svg.height},root:function(){return this._svg},configure:function(d,e){if(e)for(var b=this._svg.attributes.length-1;b>=0;b--){var a=this._svg.attributes.item(b);!(a.nodeName=="onload"||a.nodeName=="version"||a.nodeName.substring(0,5)=="xmlns")&&this._svg.attributes.removeNamedItem(a.nodeName)}for(var c in d)this._svg.setAttribute(c,d[c]);return this},getElementById:function(a){return this._svg.ownerDocument.getElementById(a)},change:function(c,b){if(c)for(var a in b)if(b[a]==null)c.removeAttribute(a);else c.setAttribute(a,b[a]);return this},_args:function(b,d,f){d.splice(0,0,"parent");d.splice(d.length,0,"settings");var c={},g=0;if(b[0]!=null&&b[0].jquery)b[0]=b[0][0];if(b[0]!=null&&!(typeof b[0]=="object"&&b[0].nodeName)){c.parent=null;g=1}for(var e=0;e<b.length;e++)c[d[e+g]]=b[e];f&&a.each(f,function(b,a){if(typeof c[a]=="object"){c.settings=c[a];c[a]=null}});return c},title:function(){var a=this._args(arguments,["text"]),b=this._makeNode(a.parent,"title",a.settings||{});b.appendChild(this._svg.ownerDocument.createTextNode(a.text));return b},describe:function(){var a=this._args(arguments,["text"]),b=this._makeNode(a.parent,"desc",a.settings||{});b.appendChild(this._svg.ownerDocument.createTextNode(a.text));return b},defs:function(){var b=this._args(arguments,["id"],["id"]);return this._makeNode(b.parent,"defs",a.extend(b.id?{id:b.id}:{},b.settings||{}))},symbol:function(){var b=this._args(arguments,["id","x1","y1","width","height"]);return this._makeNode(b.parent,"symbol",a.extend({id:b.id,viewBox:b.x1+" "+b.y1+" "+b.width+" "+b.height},b.settings||{}))},marker:function(){var b=this._args(arguments,["id","refX","refY","mWidth","mHeight","orient"],["orient"]);return this._makeNode(b.parent,"marker",a.extend({id:b.id,refX:b.refX,refY:b.refY,markerWidth:b.mWidth,markerHeight:b.mHeight,orient:b.orient||"auto"},b.settings||{}))},style:function(){var b=this._args(arguments,["styles"]),c=this._makeNode(b.parent,"style",a.extend({type:"text/css"},b.settings||{}));c.appendChild(this._svg.ownerDocument.createTextNode(b.styles));a.browser.opera&&a("head").append('<style type="text/css">'+b.styles+"</style>");return c},script:function(){var b=this._args(arguments,["script","type"],["type"]),c=this._makeNode(b.parent,"script",a.extend({type:b.type||"text/javascript"},b.settings||{}));c.appendChild(this._svg.ownerDocument.createTextNode(this._escapeXML(b.script)));!a.browser.mozilla&&a.globalEval(b.script);return c},linearGradient:function(){var b=this._args(arguments,["id","stops","x1","y1","x2","y2"],["x1"]),c=a.extend({id:b.id},b.x1!=null?{x1:b.x1,y1:b.y1,x2:b.x2,y2:b.y2}:{});return this._gradient(b.parent,"linearGradient",a.extend(c,b.settings||{}),b.stops)},radialGradient:function(){var b=this._args(arguments,["id","stops","cx","cy","r","fx","fy"],["cx"]),c=a.extend({id:b.id},b.cx!=null?{cx:b.cx,cy:b.cy,r:b.r,fx:b.fx,fy:b.fy}:{});return this._gradient(b.parent,"radialGradient",a.extend(c,b.settings||{}),b.stops)},_gradient:function(g,h,f,d){for(var e=this._makeNode(g,h,f),c=0;c<d.length;c++){var b=d[c];this._makeNode(e,"stop",a.extend({offset:b[0],stopColor:b[1]},b[2]!=null?{stopOpacity:b[2]}:{}))}return e},pattern:function(){var b=this._args(arguments,["id","x","y","width","height","vx","vy","vwidth","vheight"],["vx"]),c=a.extend({id:b.id,x:b.x,y:b.y,width:b.width,height:b.height},b.vx!=null?{viewBox:b.vx+" "+b.vy+" "+b.vwidth+" "+b.vheight}:{});return this._makeNode(b.parent,"pattern",a.extend(c,b.settings||{}))},mask:function(){var b=this._args(arguments,["id","x","y","width","height"]);return this._makeNode(b.parent,"mask",a.extend({id:b.id,x:b.x,y:b.y,width:b.width,height:b.height},b.settings||{}))},createPath:function(){return new b},createText:function(){return new g},svg:function(){var b=this._args(arguments,["x","y","width","height","vx","vy","vwidth","vheight"],["vx"]),c=a.extend({x:b.x,y:b.y,width:b.width,height:b.height},b.vx!=null?{viewBox:b.vx+" "+b.vy+" "+b.vwidth+" "+b.vheight}:{});return this._makeNode(b.parent,"svg",a.extend(c,b.settings||{}))},group:function(){var b=this._args(arguments,["id"],["id"]);return this._makeNode(b.parent,"g",a.extend({id:b.id},b.settings||{}))},"use":function(){var b=this._args(arguments,["x","y","width","height","ref"]);if(typeof b.x=="string"){b.ref=b.x;b.settings=b.y;b.x=b.y=b.width=b.height=null}var c=this._makeNode(b.parent,"use",a.extend({x:b.x,y:b.y,width:b.width,height:b.height},b.settings||{}));c.setAttributeNS(a.svg.xlinkNS,"href",b.ref);return c},link:function(){var b=this._args(arguments,["ref"]),c=this._makeNode(b.parent,"a",b.settings);c.setAttributeNS(a.svg.xlinkNS,"href",b.ref);return c},image:function(){var b=this._args(arguments,["x","y","width","height","ref"]),c=this._makeNode(b.parent,"image",a.extend({x:b.x,y:b.y,width:b.width,height:b.height},b.settings||{}));c.setAttributeNS(a.svg.xlinkNS,"href",b.ref);return c},path:function(){var b=this._args(arguments,["path"]);return this._makeNode(b.parent,"path",a.extend({d:b.path.path?b.path.path():b.path},b.settings||{}))},rect:function(){var b=this._args(arguments,["x","y","width","height","rx","ry"],["rx"]);return this._makeNode(b.parent,"rect",a.extend({x:b.x,y:b.y,width:b.width,height:b.height},b.rx?{rx:b.rx,ry:b.ry}:{},b.settings||{}))},circle:function(){var b=this._args(arguments,["cx","cy","r"]);return this._makeNode(b.parent,"circle",a.extend({cx:b.cx,cy:b.cy,r:b.r},b.settings||{}))},ellipse:function(){var b=this._args(arguments,["cx","cy","rx","ry"]);return this._makeNode(b.parent,"ellipse",a.extend({cx:b.cx,cy:b.cy,rx:b.rx,ry:b.ry},b.settings||{}))},line:function(){var b=this._args(arguments,["x1","y1","x2","y2"]);return this._makeNode(b.parent,"line",a.extend({x1:b.x1,y1:b.y1,x2:b.x2,y2:b.y2},b.settings||{}))},polyline:function(){var a=this._args(arguments,["points"]);return this._poly(a.parent,"polyline",a.points,a.settings)},polygon:function(){var a=this._args(arguments,["points"]);return this._poly(a.parent,"polygon",a.points,a.settings)},_poly:function(f,g,c,e){for(var d="",b=0;b<c.length;b++)d+=c[b].join()+" ";return this._makeNode(f,g,a.extend({points:a.trim(d)},e||{}))},text:function(){var b=this._args(arguments,["x","y","value"]);if(typeof b.x=="string"&&arguments.length<4){b.value=b.x;b.settings=b.y;b.x=b.y=null}return this._text(b.parent,"text",b.value,a.extend({x:b.x&&c(b.x)?b.x.join(" "):b.x,y:b.y&&c(b.y)?b.y.join(" "):b.y},b.settings||{}))},textpath:function(){var b=this._args(arguments,["path","value"]),c=this._text(b.parent,"textPath",b.value,b.settings||{});c.setAttributeNS(a.svg.xlinkNS,"href",b.path);return c},_text:function(i,j,e,h){var c=this._makeNode(i,j,h);if(typeof e=="string")c.appendChild(c.ownerDocument.createTextNode(e));else for(var f=0;f<e._parts.length;f++){var b=e._parts[f];if(b[0]=="tspan"){var d=this._makeNode(c,b[0],b[2]);d.appendChild(c.ownerDocument.createTextNode(b[1]));c.appendChild(d)}else if(b[0]=="tref"){var d=this._makeNode(c,b[0],b[2]);d.setAttributeNS(a.svg.xlinkNS,"href",b[1]);c.appendChild(d)}else if(b[0]=="textpath"){var g=a.extend({},b[2]);g.href=null;var d=this._makeNode(c,b[0],g);d.setAttributeNS(a.svg.xlinkNS,"href",b[2].href);d.appendChild(c.ownerDocument.createTextNode(b[1]));c.appendChild(d)}else c.appendChild(c.ownerDocument.createTextNode(b[1]))}return c},other:function(){var a=this._args(arguments,["name"]);return this._makeNode(a.parent,a.name,a.settings||{})},_makeNode:function(d,c,f){d=d||this._svg;var e=this._svg.ownerDocument.createElementNS(a.svg.svgNS,c);for(var c in f){var b=f[c];b!=null&&b!=null&&(typeof b!="string"||b!="")&&e.setAttribute(a.svg._attrNames[c]||c,b)}d.appendChild(e);return e},add:function(c){var b=this._args(arguments.length==1?[null,c]:arguments,["node"]),d=this;b.parent=b.parent||this._svg;try{if(a.svg._renesis)throw"Force traversal";b.parent.appendChild(b.node.cloneNode(true))}catch(f){b.node=b.node.jquery?b.node:a(b.node);b.node.each(function(){var a=d._cloneAsSVG(this);a&&b.parent.appendChild(a)})}return this},_cloneAsSVG:function(b){var c=null;if(b.nodeType==1){c=this._svg.ownerDocument.createElementNS(a.svg.svgNS,this._checkName(b.nodeName));for(var e=0;e<b.attributes.length;e++){var d=b.attributes.item(e);if(d.nodeName!="xmlns"&&d.nodeValue)if(d.prefix=="xlink")c.setAttributeNS(a.svg.xlinkNS,d.localName,d.nodeValue);else c.setAttribute(this._checkName(d.nodeName),d.nodeValue)}for(var e=0;e<b.childNodes.length;e++){var f=this._cloneAsSVG(b.childNodes[e]);f&&c.appendChild(f)}}else if(b.nodeType==3){if(a.trim(b.nodeValue))c=this._svg.ownerDocument.createTextNode(b.nodeValue)}else if(b.nodeType==4)if(a.trim(b.nodeValue))try{c=this._svg.ownerDocument.createCDATASection(b.nodeValue)}catch(g){c=this._svg.ownerDocument.createTextNode(b.nodeValue.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"))}return c},_checkName:function(a){a=a.substring(0,1)>="A"&&a.substring(0,1)<="Z"?a.toLowerCase():a;return a.substring(0,4)=="svg:"?a.substring(4):a},load:function(d,b){b=typeof b=="boolean"?{addTo:b}:typeof b=="function"?{onLoad:b}:b||{};!b.addTo&&this.clear(false);var h=[this._svg.getAttribute("width"),this._svg.getAttribute("height")],c=this,e=function(d){d=a.svg.local.errorLoadingText+": "+d;if(b.onLoad)b.onLoad.apply(c._container||c._svg,[c,d]);else c.text(null,10,20,d)},f=function(b){var a=new ActiveXObject("Microsoft.XMLDOM");a.validateOnParse=false;a.resolveExternals=false;a.async=false;a.loadXML(b);if(a.parseError.errorCode!=0){e(a.parseError.reason);return null}return a},g=function(f){if(!f)return;if(f.documentElement.nodeName!="svg"){var i=f.getElementsByTagName("parsererror"),k=i.length?i[0].getElementsByTagName("div"):[];e(!i.length?"???":(k.length?k[0]:i[0]).firstChild.nodeValue);return}for(var l={},d=0;d<f.documentElement.attributes.length;d++){var j=f.documentElement.attributes.item(d);if(!(j.nodeName=="version"||j.nodeName.substring(0,5)=="xmlns"))l[j.nodeName]=j.nodeValue}c.configure(l,true);for(var g=f.documentElement.childNodes,d=0;d<g.length;d++)try{if(a.svg._renesis)throw"Force traversal";c._svg.appendChild(g[d].cloneNode(true));g[d].nodeName=="script"&&a.globalEval(g[d].textContent)}catch(m){c.add(null,g[d])}!b.changeSize&&c.configure({width:h[0],height:h[1]});b.onLoad&&b.onLoad.apply(c._container||c._svg,[c])};if(d.match("<svg"))g(a.browser.msie?f(d):(new DOMParser).parseFromString(d,"text/xml"));else a.ajax({url:d,dataType:a.browser.msie?"text":"xml",success:function(b){g(a.browser.msie?f(b):b)},error:function(c,b,a){e(b+(a?" "+a.message:""))}});return this},remove:function(a){a=a.jquery?a[0]:a;a.parentNode.removeChild(a);return this},clear:function(a){a&&this.configure({},true);while(this._svg.firstChild)this._svg.removeChild(this._svg.firstChild);return this},toSVG:function(a){a=a||this._svg;return typeof XMLSerializer=="undefined"?this._toSVG(a):(new XMLSerializer).serializeToString(a)},_toSVG:function(b){var c="";if(!b)return c;if(b.nodeType==3)c=b.nodeValue;else if(b.nodeType==4)c="<![CDATA["+b.nodeValue+"]\]>";else{c="<"+b.nodeName;if(b.attributes)for(var f=0;f<b.attributes.length;f++){var d=b.attributes.item(f);if(!(a.trim(d.nodeValue)==""||d.nodeValue.match(/^\[object/)||d.nodeValue.match(/^function/)))c+=" "+(d.namespaceURI==a.svg.xlinkNS?"xlink:":"")+d.nodeName+'="'+d.nodeValue+'"'}if(b.firstChild){c+=">";var e=b.firstChild;while(e){c+=this._toSVG(e);e=e.nextSibling}c+="</"+b.nodeName+">"}else c+="/>"}return c},_escapeXML:function(a){a=a.replace(/&/g,"&amp;");a=a.replace(/</g,"&lt;");a=a.replace(/>/g,"&gt;");return a}});function b(){this._path=""}a.extend(b.prototype,{reset:function(){this._path="";return this},move:function(b,d,a){a=c(b)?d:a;return this._coords(a?"m":"M",b,d)},line:function(b,d,a){a=c(b)?d:a;return this._coords(a?"l":"L",b,d)},horiz:function(a,b){this._path+=(b?"h":"H")+(c(a)?a.join(" "):a);return this},vert:function(a,b){this._path+=(b?"v":"V")+(c(a)?a.join(" "):a);return this},curveC:function(b,d,e,f,g,h,a){a=c(b)?d:a;return this._coords(a?"c":"C",b,d,e,f,g,h)},smoothC:function(b,d,e,f,a){a=c(b)?d:a;return this._coords(a?"s":"S",b,d,e,f)},curveQ:function(b,d,e,f,a){a=c(b)?d:a;return this._coords(a?"q":"Q",b,d,e,f)},smoothQ:function(b,d,a){a=c(b)?d:a;return this._coords(a?"t":"T",b,d)},_coords:function(e,b,h,f,i,g,j){if(c(b))for(var d=0;d<b.length;d++){var a=b[d];this._path+=(d==0?e:" ")+a[0]+","+a[1]+(a.length<4?"":" "+a[2]+","+a[3]+(a.length<6?"":" "+a[4]+","+a[5]))}else this._path+=e+b+","+h+(f==null?"":" "+f+","+i+(g==null?"":" "+g+","+j));return this},arc:function(b,f,h,i,g,j,k,e){e=c(b)?f:e;this._path+=e?"a":"A";if(c(b))for(var d=0;d<b.length;d++){var a=b[d];this._path+=(d==0?"":" ")+a[0]+","+a[1]+" "+a[2]+" "+(a[3]?"1":"0")+","+(a[4]?"1":"0")+" "+a[5]+","+a[6]}else this._path+=b+","+f+" "+h+" "+(i?"1":"0")+","+(g?"1":"0")+" "+j+","+k;return this},close:function(){this._path+="z";return this},path:function(){return this._path}});b.prototype.moveTo=b.prototype.move;b.prototype.lineTo=b.prototype.line;b.prototype.horizTo=b.prototype.horiz;b.prototype.vertTo=b.prototype.vert;b.prototype.curveCTo=b.prototype.curveC;b.prototype.smoothCTo=b.prototype.smoothC;b.prototype.curveQTo=b.prototype.curveQ;b.prototype.smoothQTo=b.prototype.smoothQ;b.prototype.arcTo=b.prototype.arc;function g(){this._parts=[]}a.extend(g.prototype,{reset:function(){this._parts=[];return this},string:function(a){this._parts[this._parts.length]=["text",a];return this},span:function(b,a){this._parts[this._parts.length]=["tspan",b,a];return this},ref:function(b,a){this._parts[this._parts.length]=["tref",b,a];return this},path:function(d,c,b){this._parts[this._parts.length]=["textpath",c,a.extend({href:d},b||{})];return this}});a.fn.svg=function(b){var c=Array.prototype.slice.call(arguments,1);return typeof b=="string"&&b=="get"?a.svg["_"+b+"SVG"].apply(a.svg,[this[0]].concat(c)):this.each(function(){if(typeof b=="string")a.svg["_"+b+"SVG"].apply(a.svg,[this].concat(c));else a.svg._attachSVG(this,b||{})})};function c(a){return a&&a.constructor==Array}a.svg=new e})(jQuery)